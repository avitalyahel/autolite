#!/bin/bash

function ensure_minor {
	prog=$1
	shift 1	
	which $prog 2>1 1>/dev/null
	if [ $? != '0' ]
	then
	    echo Missing $prog in PATH - trying to locate...
	    for m in `seq 9 -1 1`
	    do
	        which $prog.$m 2>1 2>/dev/null
	        if [ $? == '0' ]
	        then
	            sudo ln -sf `which $prog.$m` /usr/local/bin/$prog
	            exit 0
	        fi
	    done
	    echo Failed locating $prog.x !
	    exit 1
	fi
}

ensure_minor python3
ensure_minor pip3

python3 install.py $@